# linux-maint.conf - main configuration (KEY=VALUE)
#
# Precedence (highest to lowest):
#   CLI flags > environment variables > /etc/linux_maint/conf.d/*.conf > /etc/linux_maint/linux-maint.conf > built-in defaults
#
# Notes:
# - Values are shell-evaluated (simple KEY=VALUE). Avoid untrusted edits.
# - Secrets: treat this file as root-readable only.

# ---- Host selection ----
#LM_GROUP=""
#LM_HOSTS_DIR="/etc/linux_maint/hosts.d"
#LM_SERVERLIST="/etc/linux_maint/servers.txt"
#LM_EXCLUDED="/etc/linux_maint/excluded.txt"

# ---- Execution ----
#LM_MAX_PARALLEL=0
#LM_LOCAL_ONLY=false
#LM_SSH_OPTS="-o BatchMode=yes -o ConnectTimeout=5"
#LM_SSH_KNOWN_HOSTS_MODE="accept-new"   # set to "strict" for strict host key checking
#LM_SSH_ALLOWLIST="^bash -lc |^command -v |^df |^ss |^netstat |^systemctl |^ping |^nc |^curl |^timeout |^chronyc |^ntpq |^timedatectl |^mountpoint |^stat |^uname "

# ---- Wrapper runtime ----
#LOG_DIR="/var/log/health"
#SUMMARY_DIR="/var/log/health"
#MONITOR_TIMEOUT_SECS=600
#LM_DARK_SITE=false
#LM_LAST_RUN_MAX_AGE_MIN=120
#LM_LAST_RUN_LOG_DIR="/var/log/health"
#LM_FS_RO_EXCLUDE_RE='^(proc|sysfs|devtmpfs|tmpfs|devpts|cgroup2?|cgroup|debugfs|tracefs|mqueue|hugetlbfs|pstore|squashfs|overlay|rpc_pipefs|autofs|fuse\\..*|binfmt_misc)$'
#LM_FS_RO_EXCLUDE_MOUNTS_RE='^/(boot|boot/efi|usr|etc)$'
# Optional: per-monitor timeout overrides (format: monitor_name=seconds)
#MONITOR_TIMEOUTS_FILE="/etc/linux_maint/monitor_timeouts.conf"

# ---- Notifications (email + webhook) ----
#LM_NOTIFY=0
#LM_NOTIFY_TO="ops@example.com"
#LM_NOTIFY_ONLY_ON_CHANGE=1
#LM_NOTIFY_SUBJECT_PREFIX="[linux_maint]"
#LM_NOTIFY_STATE_DIR="/var/lib/linux_maint"
#LM_NOTIFY_WEBHOOK_URL=""
#LM_PREFLIGHT_OPT_CMDS="openssl ss netstat journalctl smartctl nvme timeout"
