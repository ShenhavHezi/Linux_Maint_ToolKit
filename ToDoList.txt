# Linux_Maint_ToolKit — Roadmap

This is the single backlog source of truth.

## Working style
- Keep changes small, test-backed, and documented.
- Preserve output contracts; version them when needed.
- Prefer safe defaults and clear operator guidance.
- Offline/dark-site support remains a core constraint.

## Priorities
- **P0**: correctness, reliability, determinism
- **P1**: operator UX and documentation
- **P2**: security and hardening
- **P3**: observability and integrations
- **P4**: DX/release polish

---

## P0 — Correctness / reliability

### P0.1 Add wrapper self-check mode (DONE 2026-02-18)
**Why**: quickly validate environment and config before real runs.
**Scope**:
- New `linux-maint self-check` that validates config readability, writable paths, and basic deps.
- Outputs a single JSON report when `--json` is used.
**Acceptance**:
- Test coverage for both text and JSON output.

### P0.2 Improve monitor runtime accuracy (DONE 2026-02-18)
**Why**: current runtime measurement wraps the whole script; slow subprocesses are not distinguished.
**Scope**:
- Add optional per-subcommand timing with a helper (`lm_time`) to emit `RUNTIME_STEP` lines.
**Acceptance**:
- Backward compatible; no changes to existing RUNTIME lines.

---

## P1 — Operator UX / documentation

### P1.1 Add a “common fixes” section to README (DONE 2026-02-18)
**Why**: reduce time-to-resolution for frequent warnings.
**Scope**:
- Map 5–7 common `reason=` tokens to concrete remediation steps.
**Acceptance**:
- README contains a concise table or list.

### P1.2 Add a “day-2 operations” page (DONE 2026-02-18)
**Why**: operators need guidance for routine upkeep and tuning.
**Scope**:
- New `docs/DAY2.md` with patching flow, baseline refresh, and runtime warn tuning.
**Acceptance**:
- Linked from `docs/README.md`.

---

## P2 — Security / hardening

### P2.1 Add SSH command allowlist for remote runs (DONE 2026-02-18)
**Why**: reduce blast radius for remote execution.
**Scope**:
- Optional `LM_SSH_ALLOWLIST` for commands invoked through `lm_ssh`.
**Acceptance**:
- Tests cover allow/deny behavior.

### P2.2 Add optional integrity stamp for summary artifacts (DONE 2026-02-18)
**Why**: tamper-evidence for summary logs shipped off-host.
**Scope**:
- Generate a SHA256 for summary log and JSON (stored alongside in `.sha256`).
**Acceptance**:
- Tests verify checksums are written and match.

---

## P3 — Observability / integrations

### P3.1 Add structured JSON log output mode (DONE 2026-02-18)
**Why**: simplify ingestion into SIEM/ELK.
**Scope**:
- `LM_LOG_FORMAT=json` to emit one JSON object per log line.
**Acceptance**:
- Disabled by default; tests validate output shape when enabled.

### P3.2 Add OpenMetrics compatibility for Prometheus output (DONE 2026-02-18)
**Why**: improve compatibility with stricter collectors.
**Scope**:
- Optional `LM_PROM_FORMAT=openmetrics` (adds `# EOF` and proper formatting).
**Acceptance**:
- Test ensures output includes required markers.

---

## P4 — DX / release polish

### P4.1 Add a “breaking changes” checklist (DONE 2026-02-18)
**Why**: enforce contract stability.
**Scope**:
- Extend `docs/RELEASE_CHECKLIST.md` with a breaking-change audit.
**Acceptance**:
- Checklist references JSON schemas and summary contract.

### P4.2 Add repo rename compatibility notes (DONE 2026-02-18)
**Why**: users updating from older name need a clean path.
**Scope**:
- Add a short note to README + docs on the old repo name.
**Acceptance**:
- Both README and docs/README mention the previous `linux_Maint_Scripts` name.
