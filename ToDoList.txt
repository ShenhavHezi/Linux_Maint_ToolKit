# Linux_Maint_ToolKit - Roadmap and Backlog (2026-02-25)

## Project brief
Linux_Maint_ToolKit is a lightweight, offline-first Linux health toolkit for fleet and single-host checks.
It runs locally or over SSH, emits stable machine-parseable summary lines, and favors predictable outputs for automation.
Primary users: operators, sysadmins, and SREs working in constrained or air-gapped environments.

## Principles
- Bash-only runtime; avoid new dependencies.
- Output contracts are stable, parse-safe, and versioned where needed.
- Changes should be minimal and reversible; behavior changes require tests + docs.

## Success criteria
- One command provides a clear, actionable status report with sane defaults.
- Summary contract is consistent and validated across all monitors and CLI outputs.
- Works on RHEL 9 and common distros with explicit compatibility guidance.
- CI is reliable, deterministic, and low-flake.

## Priority legend
- P0: correctness, safety, and contract integrity
- P1: operator UX, docs, and compatibility
- P2: security, hardening, and performance
- P3: observability, integrations, and QA coverage
- P4: DX, release polish, and community

---

## P0 - Correctness and safety
- Add a summary schema version field (e.g. `summary_schema_version`) to all summary emitters; enforce in `lint-summary` and tests.
- Define and implement a consistent run exit policy via `LM_RUN_FAIL_ON` (e.g. `crit|warn|any`) and document exit-code behavior.
- Tighten config parsing: detect duplicate keys, invalid types, and emit JSON-only errors for `--json` modes with tests.
- Ensure `run --plan` and `run --only/--skip` fail clearly when the resolved monitor set is empty; add tests.

---

## P1 - Operator UX, docs, compatibility
- Add `linux-maint explain <reason>` to surface a reason’s meaning and quick fix from `docs/REASONS.md`.
- Add `docs/UPGRADE.md` with version-to-version notes and common upgrade gotchas.
- Expand `docs/QUICK_REFERENCE.md` with SSH examples and `run --plan` usage.
- Add a short “day-2 ops” checklist (rotations, timers, log locations) in docs.

---

## P2 - Security, hardening, performance
- Add `pack-logs --redact` to scrub common secret patterns from text logs before bundling.
- Validate `LM_STATE_DIR` and log directories are not world-writable; warn or fail in strict modes.
- Add optional support-bundle encryption (GPG) and document safe handling in air-gapped workflows.
- Add a cap for run-index growth (`LM_RUN_INDEX_KEEP`) in all environments and document defaults.

---

## P3 - Observability, integrations, QA coverage
- Add `metrics --prom --output <file>` for Prometheus textfile collectors with atomic writes.
- Add contract tests for `report --short` and `trend` colorized output to lock formatting stability.
- Add a simple JSON schema for `metrics --json` and validate outputs in tests.
- Add compatibility test for older bash (e.g. bash 3.x) to ensure minimal features are used.

---

## P4 - DX, release polish, community
- Add a `tools/release.sh` wrapper to bump version, update notes, and run release checks.
- Add a `make verify-release` target to run `tools/verify_release.sh` plus notes index checks.
- Add a `docs/ARCHITECTURE.md` overview (data flow, contracts, directories, run index format).
- Add a `docs/OPERATIONS.md` runbook for common incidents and recovery steps.
