# Linux_Maint_ToolKit — Roadmap & Backlog (2026-02-22)

## Project brief
Linux_Maint_ToolKit is a lightweight, offline‑friendly Linux maintenance and health toolkit.
It runs locally or via SSH, emits machine‑parseable summary lines, and keeps outputs stable for automation.
Primary audiences: operators, sysadmins, and SREs working in constrained or air‑gapped environments.

## Principles
- Bash‑only runtime; no new runtime dependencies.
- Machine outputs are clean and parse‑safe (stdout contract preserved).
- Minimal, reversible changes; strong tests + docs for any behavior change.

## Priority legend
- P0: correctness / safety
- P1: operator UX / docs
- P2: security / hardening
- P3: observability / integrations
- P4: DX / release polish

---

## Recently completed (2026-02-22)

1. Summary output hardening
   Outcome: one summary line per monitor/host; stdout kept machine‑clean.
   Acceptance: duplicate summaries suppressed; tests enforce no stdout noise.

2. Init safety (`linux-maint init --force`)
   Outcome: init never overwrites existing config unless `--force` is passed.
   Acceptance: tests verify non‑overwrite and forced overwrite behavior.

3. Operator docs expansion
   Outcome: first‑10‑minutes runbook and artifact/log reference added.
   Acceptance: new docs linked from doc indexes and README.

---

## P0 — Correctness / safety (next)

1. JSON contracts for `trend --json` and `runtimes --json`
   Outcome: stable schemas and versioning for both payloads.
   Acceptance: JSON schema files + tests validate output shape.

2. Strict run validation mode
   Outcome: `linux-maint run --strict` fails if any monitor emits malformed summary lines.
   Acceptance: wrapper rejects invalid lines; docs describe strict mode.

3. Deterministic test mode
   Outcome: stable timestamps and disabled outbound actions for CI.
   Acceptance: single env flag freezes timestamps and blocks notify/email.

4. Structured fix output for `doctor --fix`
   Outcome: `doctor --fix --json` returns structured actions (id/action/status).
   Acceptance: JSON schema + tests added; human output unchanged.

---

## P1 — Operator UX / docs (next)

1. `linux-maint explain monitor <name>`
   Outcome: concise description, required/optional deps, common reasons.
   Acceptance: output fits on one screen and references `docs/REASONS.md`.

2. Fleet summary grouping
   Outcome: `status --group-by <host|monitor|reason>` for large fleets.
   Acceptance: grouped output with totals and stable ordering.

3. One‑screen report
   Outcome: `report --short` with totals, top problems, next steps.
   Acceptance: fits in ~25 lines; no loss of machine outputs.

4. First‑run expectations banner
   Outcome: status/report call out expected SKIPs when baselines/config are missing.
   Acceptance: banner appears only when relevant.

---

## P2 — Security / hardening (soon)

1. SSH known_hosts mode switch
   Outcome: `LM_SSH_KNOWN_HOSTS_MODE=strict|accept-new` (default accept‑new).
   Acceptance: strict mode errors on unknown hosts; documented.

2. Export allowlist
   Outcome: `linux-maint export --json` supports `LM_EXPORT_ALLOWLIST`.
   Acceptance: only allowlisted fields emitted when set; tests added.

3. Bundle file hashes
   Outcome: `pack-logs --hash` writes SHA256 per bundle file into metadata.
   Acceptance: hash list included and documented.

---

## P3 — Observability / integrations (later)

1. Metrics snapshot command
   Outcome: `linux-maint metrics --json` returns status + trend + runtimes.
   Acceptance: stable schema and tests.

2. Lightweight Prometheus summary
   Outcome: `status --prom` returns minimal textfile‑style metrics.
   Acceptance: includes overall status + per‑status counts.

3. Agent hints
   Outcome: add `next_step=` hints for common reasons in summary output.
   Acceptance: documented and tested for at least 3 monitors.

---

## P4 — DX / release polish (later)

1. Release verification tool
   Outcome: `tools/release_check.sh` validates docs, schemas, and release notes.
   Acceptance: fails fast with actionable messages.

2. Make target: verify release
   Outcome: `make verify-release` wraps `linux-maint verify-release`.
   Acceptance: simple, documented target.

3. Release note drafting workflow
   Outcome: GH Action drafts release notes from CHANGELOG Unreleased.
   Acceptance: draft created on tag push.
