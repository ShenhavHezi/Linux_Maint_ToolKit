# Linux_Maint_ToolKit - Roadmap and Backlog (2026-02-24)

## Project brief
Linux_Maint_ToolKit is a lightweight, offline-first Linux health toolkit for fleet and single-host checks.
It runs locally or over SSH, emits stable machine-parseable summary lines, and favors predictable outputs for automation.
Primary users: operators, sysadmins, and SREs working in constrained or air-gapped environments.

## Principles
- Bash-only runtime; avoid new dependencies.
- Output contracts are stable, parse-safe, and versioned where needed.
- Changes should be minimal and reversible; behavior changes require tests + docs.

## Success criteria
- One command provides a clear, actionable status report with sane defaults.
- Summary contract is consistent and validated across all monitors and CLI outputs.
- Works on RHEL 9 and common distros with explicit compatibility guidance.
- CI is reliable, deterministic, and low-flake.

## Priority legend
- P0: correctness, safety, and contract integrity
- P1: operator UX, docs, and compatibility
- P2: security, hardening, and performance
- P3: observability, integrations, and QA coverage
- P4: DX, release polish, and community

---

## P0 - Correctness and safety (done)
- Enforced reason vocabulary lint against docs/REASONS.md with allowlist support.
- Added lints for host=all and required node= on all summary lines.
- Added wrapper skip-gate tests with stable SKIP reasons and missing=... details.
- Extended config validation to detect duplicate and unknown keys across linux-maint.conf + conf.d.
- Added JSON-output guard tests to prevent non-JSON contamination.
- Added duplicate monitor/host lint for wrapper summaries.
- Added summary_contract.monitors sync check with allowlist exceptions.

---

## P1 - Operator UX, docs, compatibility (done)
- Added `linux-maint run --only/--skip` CLI flags for focused runs.
- Expanded QUICK_REFERENCE with first-run workflow, baselines, expected SKIPs, and triage steps.
- Added compatibility matrix doc (bash/Python versions, supported distros, required tools).
- Improved `linux-maint explain reason` to include next_step guidance and common fixes.
- Added `linux-maint check --json` for automation-friendly preflight + config status.
- Added example outputs for report/trend/diff in docs (color + no-color).
- Added a short operator runbook: initial install, first run, baseline creation, and day-2 checks.

---

## P2 - Security, hardening, performance (done)
- Added `LM_SSH_ALLOWLIST_STRICT=1` to fail hard on blocked commands.
- Added `LM_SSH_KNOWN_HOSTS_PIN_FILE` for pinned host keys and documentation.
- Expanded redaction coverage for known secret formats in report/pack-logs outputs.
- Added inventory cache pruning (`LM_INVENTORY_CACHE_MAX`) to prevent unbounded growth.
- Hardened tempdir usage in wrapper (dedicated run dir + cleanup on signals).
- Added `LM_REDACT_JSON=1` to redact secrets from JSON outputs.
- Added `LM_SSH_RETRY` with exponential backoff for transient SSH failures.

---

## P3 - Observability, integrations, QA coverage (done)
- Added Prometheus metrics for per-monitor runtime and host counts.
- Added golden fixtures for report/trend/diff outputs to lock formatting regressions.
- Added JSON schema validation for metrics fields (numeric stability).
- Added smoke test coverage for skip-gate reasons (config_missing/baseline_missing).
- Added contract test for LM_SUMMARY_ALLOWLIST behavior in strict mode.
- Added trend cache tests to validate TTL behavior and filter-aware caching.
- Added run_index retention tests for prune/keep edge cases.

---

## P4 - DX, release polish, community (done)
- Automated release pipeline to build tarball, compute checksum, and attach to GitHub release.
- Extended `make release` to tag, draft notes, and update checksums in release notes.
- Added contributor guide section on summary contract and reason token policy.
- Added security disclosure note and lifecycle/support policy.
- Added DEB packaging note (non-support) in docs.
- Added a minimal example pack under docs/examples for quick evaluation.
