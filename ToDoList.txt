# Linux_Maint_ToolKit — Roadmap (reviewed 2026-02-22)

This is the active backlog. Items are ordered by priority.

Priorities:
- P0: correctness, reliability, determinism
- P1: operator UX and documentation
- P2: security and hardening
- P3: observability and integrations
- P4: DX / release polish

---

## P0 — Correctness / reliability

- Add explicit CLI flags `--progress` and `--no-progress` for `run`, `pack-logs`, and `baseline --update`.
  - Ensure CLI flags override `LM_PROGRESS`.
  - Add a test that confirms progress is suppressed when stderr is not a TTY.

- Define and lock color precedence (NO_COLOR vs LM_FORCE_COLOR).
  - Document the final behavior.
  - Add tests for both forced color and NO_COLOR override.

- Add a guard test to ensure progress output never contaminates JSON outputs.
  - (progress should stay on stderr only)

## P1 — Operator UX / documentation

- Update docs for new CLI features and env vars:
  - `LM_PROGRESS`, `LM_PROGRESS_WIDTH`, `LM_HOST_PROGRESS`, `LM_FORCE_COLOR`
  - `linux-maint config --lint`, `baseline`, `doctor --fix`
  - add examples to `docs/QUICK_REFERENCE.md` and `docs/reference.md`

- Add a short "output conventions" section to `docs/reference.md`.
  - Explain headings, color usage, and how to disable/force color.

- Add a `linux-maint help <command>` alias to surface per-command help consistently.

## P2 — Security / hardening

- Add `pack-logs --redact/--no-redact` flags (override `LM_REDACT_LOGS`).
  - Print a short note in the bundle metadata about whether redaction was applied.

- Expand secret scan rules to include new common token patterns discovered in user environments.

## P3 — Observability / integrations

- Add JSON schemas for `report --json` and `config --json` to `docs/schemas/`.
  - Include schema versioning rules and contract notes.

- Add a `--json` output mode to `runtimes` that includes units and source file.

## P4 — DX / release polish

- Add `tools/release.sh` to automate:
  - version bump (`VERSION`)
  - changelog entry using `docs/RELEASE_TEMPLATE.md`
  - tag + optional `gh release create`

- Add `make release` to run lint/tests and call `tools/release.sh`.

